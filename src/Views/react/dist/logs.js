import{React as e}from"/jsx/imports";export default function t(){const[t,l]=e.useState([]),[o,s]=e.useState(),[a,n]=e.useState(),c=e.useCallback((e=>{const t=e.data;console.log("Received message: ",t),s(t),a?.close()}),[a]),r=e.useCallback((e=>{a?.OPEN&&a.close()}),[a]),u=e.useCallback((()=>{a?.OPEN&&a.close();const e=new URL("/api/stream/logs",window.location.origin),t=new EventSource(e,{withCredentials:!0});return n(t),t.onmessage=c,t.onerror=r,t}),[a,c,r]);return e.useEffect((()=>{const e=u();return console.log("event source: ",e),()=>{e?.OPEN&&e.close()}}),[]),e.createElement("div",null,e.createElement("h1",null,"Logs"),e.createElement("div",{className:"w-full p-8 min-h-[calc(100vh - 100px)]"},e.createElement("div",{className:"bg-slate-900 p-3 text-white border border-white rounded shadow mx-auto w-full h-full"},o)))}